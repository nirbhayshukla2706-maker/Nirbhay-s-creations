<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2202.7">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 21.0px; font: 14.0px Menlo; color: #6d6d6d; -webkit-text-stroke: #6d6d6d}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 21.0px; font: 14.0px Menlo; color: #6b0001; -webkit-text-stroke: #6b0001}
    p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 21.0px; font: 14.0px Menlo; color: #fb0007; -webkit-text-stroke: #fb0007}
    p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 21.0px; font: 14.0px Menlo; color: #0000ff; -webkit-text-stroke: #0000ff}
    p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 21.0px; font: 14.0px Menlo; color: #000000; -webkit-text-stroke: #000000}
    p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 21.0px; font: 14.0px Menlo; color: #000000; -webkit-text-stroke: #000000; min-height: 16.0px}
    p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 21.0px; font: 14.0px Menlo; color: #4d5055; -webkit-text-stroke: #4d5055}
    span.s1 {font-kerning: none; background-color: #ecf1f7}
    span.s2 {font-kerning: none; color: #fb0007; background-color: #ecf1f7; -webkit-text-stroke: 0px #fb0007}
    span.s3 {font-kerning: none; color: #2a2a2a; background-color: #ecf1f7; -webkit-text-stroke: 0px #2a2a2a}
    span.s4 {font-kerning: none; color: #000000; background-color: #ecf1f7; -webkit-text-stroke: 0px #000000}
    span.s5 {font-kerning: none; color: #0000ff; background-color: #ecf1f7; -webkit-text-stroke: 0px #0000ff}
    span.s6 {font-kerning: none; color: #6b0001; background-color: #ecf1f7; -webkit-text-stroke: 0px #6b0001}
    span.s7 {font-kerning: none; color: #137646; background-color: #ecf1f7; -webkit-text-stroke: 0px #137646}
    span.s8 {font-kerning: none; color: #093c94; background-color: #ecf1f7; -webkit-text-stroke: 0px #093c94}
    span.s9 {font-kerning: none; color: #18702b; background-color: #ecf1f7; -webkit-text-stroke: 0px #18702b}
    span.s10 {font-kerning: none}
    span.s11 {font-kerning: none; color: #6f0ec3; background-color: #ecf1f7; -webkit-text-stroke: 0px #6f0ec3}
    span.s12 {font-kerning: none; color: #a4450b; background-color: #ecf1f7; -webkit-text-stroke: 0px #a4450b}
    span.s13 {font-kerning: none; color: #0e6e6d; background-color: #ecf1f7; -webkit-text-stroke: 0px #0e6e6d}
    span.s14 {font-kerning: none; color: #4d5055; background-color: #ecf1f7; -webkit-text-stroke: 0px #4d5055}
    span.s15 {font-kerning: none; color: #2316b2; background-color: #ecf1f7; -webkit-text-stroke: 0px #2316b2}
  </style>
</head>
<body>
<p class="p1"><span class="s1">&lt;!DOCTYPE</span><span class="s2"> html</span><span class="s1">&gt;</span></p>
<p class="p2"><span class="s3">&lt;</span><span class="s1">html</span><span class="s4"> </span><span class="s2">lang</span><span class="s3">=</span><span class="s5">"en"</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s3">&lt;</span><span class="s1">head</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">meta</span><span class="s4"> </span><span class="s1">charset</span><span class="s3">=</span><span class="s5">"UTF-8"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">meta</span><span class="s4"> </span><span class="s2">name</span><span class="s3">=</span><span class="s1">"viewport"</span><span class="s4"> </span><span class="s2">content</span><span class="s3">=</span><span class="s1">"width=device-width, initial-scale=1.0"</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">title</span><span class="s3">&gt;</span><span class="s1">Voxel Builder - Enhanced Movement</span><span class="s3">&lt;/</span><span class="s6">title</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">script</span><span class="s4"> </span><span class="s2">src</span><span class="s3">=</span><span class="s1">"https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"</span><span class="s3">&gt;&lt;/</span><span class="s6">script</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s1">style</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s6">body</span><span class="s4"> { </span><span class="s1">margin:</span><span class="s4"> </span><span class="s7">0</span><span class="s4">; </span><span class="s1">overflow:</span><span class="s4"> </span><span class="s8">hidden</span><span class="s4">; </span><span class="s1">font-family:</span><span class="s4"> </span><span class="s9">'Segoe UI'</span><span class="s4">, </span><span class="s8">sans-serif</span><span class="s4">; </span><span class="s1">background:</span><span class="s4"> </span><span class="s8">#000</span><span class="s4">; }</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">#ui</span><span class="s1"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">position:</span><span class="s4"> </span><span class="s8">absolute</span><span class="s4">; </span><span class="s1">top:</span><span class="s4"> </span><span class="s7">20px</span><span class="s4">; </span><span class="s1">left:</span><span class="s4"> </span><span class="s7">20px</span><span class="s4">; </span><span class="s1">color:</span><span class="s4"> </span><span class="s8">white</span><span class="s4">; </span><span class="s1">pointer-events:</span><span class="s4"> </span><span class="s8">none</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">text-shadow:</span><span class="s1"> </span><span class="s7">2px</span><span class="s1"> </span><span class="s7">2px</span><span class="s1"> </span><span class="s7">4px</span><span class="s1"> </span><span class="s8">rgba(</span><span class="s7">0</span><span class="s1">,</span><span class="s7">0</span><span class="s1">,</span><span class="s7">0</span><span class="s1">,</span><span class="s7">0.9</span><span class="s8">)</span><span class="s1">; </span><span class="s2">z-index:</span><span class="s1"> </span><span class="s7">10</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">#crosshair</span><span class="s1"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">position:</span><span class="s4"> </span><span class="s8">absolute</span><span class="s4">; </span><span class="s1">top:</span><span class="s4"> </span><span class="s7">50%</span><span class="s4">; </span><span class="s1">left:</span><span class="s4"> </span><span class="s7">50%</span><span class="s4">; </span><span class="s1">width:</span><span class="s4"> </span><span class="s7">20px</span><span class="s4">; </span><span class="s1">height:</span><span class="s4"> </span><span class="s7">20px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">transform:</span><span class="s4"> </span><span class="s8">translate(</span><span class="s7">-50%</span><span class="s4">, </span><span class="s7">-50%</span><span class="s8">)</span><span class="s4">; </span><span class="s1">pointer-events:</span><span class="s4"> </span><span class="s8">none</span><span class="s4">; </span><span class="s1">mix-blend-mode:</span><span class="s4"> </span><span class="s8">difference</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">#crosshair::before</span><span class="s4">, </span><span class="s1">#crosshair::after</span><span class="s4"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">content:</span><span class="s4"> </span><span class="s9">''</span><span class="s4">; </span><span class="s1">position:</span><span class="s4"> </span><span class="s8">absolute</span><span class="s4">; </span><span class="s1">background:</span><span class="s4"> </span><span class="s8">white</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s6">#crosshair::before</span><span class="s4"> { </span><span class="s1">top:</span><span class="s4"> </span><span class="s7">50%</span><span class="s4">; </span><span class="s1">left:</span><span class="s4"> </span><span class="s7">0</span><span class="s4">; </span><span class="s1">width:</span><span class="s4"> </span><span class="s7">100%</span><span class="s4">; </span><span class="s1">height:</span><span class="s4"> </span><span class="s7">2px</span><span class="s4">; </span><span class="s1">margin-top:</span><span class="s4"> </span><span class="s7">-1px</span><span class="s4">; }</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s6">#crosshair::after</span><span class="s4"> { </span><span class="s1">left:</span><span class="s4"> </span><span class="s7">50%</span><span class="s4">; </span><span class="s1">top:</span><span class="s4"> </span><span class="s7">0</span><span class="s4">; </span><span class="s1">height:</span><span class="s4"> </span><span class="s7">100%</span><span class="s4">; </span><span class="s1">width:</span><span class="s4"> </span><span class="s7">2px</span><span class="s4">; </span><span class="s1">margin-left:</span><span class="s4"> </span><span class="s7">-1px</span><span class="s4">; }</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">#inventory</span><span class="s1"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">position:</span><span class="s4"> </span><span class="s8">absolute</span><span class="s4">; </span><span class="s1">bottom:</span><span class="s4"> </span><span class="s7">20px</span><span class="s4">; </span><span class="s1">left:</span><span class="s4"> </span><span class="s7">50%</span><span class="s4">; </span><span class="s1">transform:</span><span class="s4"> </span><span class="s8">translateX(</span><span class="s7">-50%</span><span class="s8">)</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">display:</span><span class="s4"> </span><span class="s8">flex</span><span class="s4">; </span><span class="s1">gap:</span><span class="s4"> </span><span class="s7">12px</span><span class="s4">; </span><span class="s1">background:</span><span class="s4"> </span><span class="s8">rgba(</span><span class="s7">0</span><span class="s4">,</span><span class="s7">0</span><span class="s4">,</span><span class="s7">0</span><span class="s4">,</span><span class="s7">0.7</span><span class="s8">)</span><span class="s4">; </span><span class="s1">padding:</span><span class="s4"> </span><span class="s7">12px</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">border-radius:</span><span class="s1"> </span><span class="s7">12px</span><span class="s1">; </span><span class="s2">border:</span><span class="s1"> </span><span class="s7">2px</span><span class="s1"> </span><span class="s8">solid</span><span class="s1"> </span><span class="s8">rgba(</span><span class="s7">255</span><span class="s1">,</span><span class="s7">255</span><span class="s1">,</span><span class="s7">255</span><span class="s1">,</span><span class="s7">0.1</span><span class="s8">)</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">.slot</span><span class="s1"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">width:</span><span class="s4"> </span><span class="s7">45px</span><span class="s4">; </span><span class="s1">height:</span><span class="s4"> </span><span class="s7">45px</span><span class="s4">; </span><span class="s1">border:</span><span class="s4"> </span><span class="s7">3px</span><span class="s4"> </span><span class="s8">solid</span><span class="s4"> </span><span class="s8">#444</span><span class="s4">; </span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s7">6px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">background-size:</span><span class="s4"> </span><span class="s8">cover</span><span class="s4">; </span><span class="s1">position:</span><span class="s4"> </span><span class="s8">relative</span><span class="s4">; </span><span class="s1">transition:</span><span class="s4"> </span><span class="s8">transform</span><span class="s4"> </span><span class="s7">0.1s</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s6">.slot.active</span><span class="s4"> { </span><span class="s1">border-color:</span><span class="s4"> </span><span class="s8">#fff</span><span class="s4">; </span><span class="s1">transform:</span><span class="s4"> </span><span class="s8">scale(</span><span class="s7">1.15</span><span class="s8">)</span><span class="s4">; </span><span class="s1">box-shadow:</span><span class="s4"> </span><span class="s7">0</span><span class="s4"> </span><span class="s7">0</span><span class="s4"> </span><span class="s7">15px</span><span class="s4"> </span><span class="s8">rgba(</span><span class="s7">255</span><span class="s4">,</span><span class="s7">255</span><span class="s4">,</span><span class="s7">255</span><span class="s4">,</span><span class="s7">0.4</span><span class="s8">)</span><span class="s4">; }</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">#instructions</span><span class="s4"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">position:</span><span class="s4"> </span><span class="s8">absolute</span><span class="s4">; </span><span class="s1">top:</span><span class="s4"> </span><span class="s7">0</span><span class="s4">; </span><span class="s1">left:</span><span class="s4"> </span><span class="s7">0</span><span class="s4">; </span><span class="s1">width:</span><span class="s4"> </span><span class="s7">100%</span><span class="s4">; </span><span class="s1">height:</span><span class="s4"> </span><span class="s7">100%</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">background:</span><span class="s4"> </span><span class="s8">rgba(</span><span class="s7">0</span><span class="s4">,</span><span class="s7">0</span><span class="s4">,</span><span class="s7">0</span><span class="s4">,</span><span class="s7">0.8</span><span class="s8">)</span><span class="s4">; </span><span class="s1">color:</span><span class="s4"> </span><span class="s8">white</span><span class="s4">; </span><span class="s1">display:</span><span class="s4"> </span><span class="s8">flex</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">flex-direction:</span><span class="s4"> </span><span class="s8">column</span><span class="s4">; </span><span class="s1">align-items:</span><span class="s4"> </span><span class="s8">center</span><span class="s4">; </span><span class="s1">justify-content:</span><span class="s4"> </span><span class="s8">center</span><span class="s4">; </span><span class="s1">z-index:</span><span class="s4"> </span><span class="s7">100</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s6">.btn</span><span class="s4"> { </span><span class="s1">background:</span><span class="s4"> </span><span class="s8">#fff</span><span class="s4">; </span><span class="s1">color:</span><span class="s4"> </span><span class="s8">#000</span><span class="s4">; </span><span class="s1">padding:</span><span class="s4"> </span><span class="s7">12px</span><span class="s4"> </span><span class="s7">30px</span><span class="s4">; </span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s7">5px</span><span class="s4">; </span><span class="s1">font-weight:</span><span class="s4"> </span><span class="s8">bold</span><span class="s4">; </span><span class="s1">cursor:</span><span class="s4"> </span><span class="s8">pointer</span><span class="s4">; }</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s1">style</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s3">&lt;/</span><span class="s1">head</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s3">&lt;</span><span class="s1">body</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">id</span><span class="s3">=</span><span class="s5">"ui"</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">h2</span><span class="s1"> </span><span class="s2">style</span><span class="s3">=</span><span class="s5">"margin:0"</span><span class="s3">&gt;</span><span class="s1">Voxel Builder Pro</span><span class="s3">&lt;/</span><span class="s6">h2</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">p</span><span class="s3">&gt;</span><span class="s1">Smooth Physics &amp; Improved Movement</span><span class="s3">&lt;/</span><span class="s6">p</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"crosshair"</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"inventory"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"slot active"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"slot1"</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"slot"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"slot2"</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"slot"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"slot3"</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"slot"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"slot4"</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"slot"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"slot5"</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"instructions"</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">h1</span><span class="s3">&gt;</span><span class="s1">PRO MOVEMENT SYSTEM</span><span class="s3">&lt;/</span><span class="s6">h1</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">ul</span><span class="s4"> </span><span class="s2">style</span><span class="s3">=</span><span class="s1">"text-align: left; line-height: 1.6;"</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">li</span><span class="s3">&gt;&lt;</span><span class="s6">b</span><span class="s3">&gt;</span><span class="s1">Smooth Movement:</span><span class="s3">&lt;/</span><span class="s6">b</span><span class="s3">&gt;</span><span class="s1"> Momentum &amp; Friction added.</span><span class="s3">&lt;/</span><span class="s6">li</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">li</span><span class="s3">&gt;&lt;</span><span class="s6">b</span><span class="s3">&gt;</span><span class="s1">Auto-Step:</span><span class="s3">&lt;/</span><span class="s6">b</span><span class="s3">&gt;</span><span class="s1"> Walk over 1-block steps automatically.</span><span class="s3">&lt;/</span><span class="s6">li</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">li</span><span class="s3">&gt;&lt;</span><span class="s6">b</span><span class="s3">&gt;</span><span class="s1">Collision:</span><span class="s3">&lt;/</span><span class="s6">b</span><span class="s3">&gt;</span><span class="s1"> Full AABB physical box detection.</span><span class="s3">&lt;/</span><span class="s6">li</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">ul</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"btn"</span><span class="s1"> </span><span class="s2">id</span><span class="s3">=</span><span class="s5">"startBtn"</span><span class="s3">&gt;</span><span class="s1">START GAME</span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s1">script</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// --- Textures ---</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> createTex = (c1, c2) =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> canv = document.createElement(</span><span class="s9">'canvas'</span><span class="s1">); canv.width = </span><span class="s12">64</span><span class="s1">; canv.height = </span><span class="s12">64</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> ctx = canv.getContext(</span><span class="s9">'2d'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>ctx.fillStyle = c1; ctx.fillRect(</span><span class="s12">0</span><span class="s1">,</span><span class="s12">0</span><span class="s1">,</span><span class="s12">64</span><span class="s1">,</span><span class="s12">64</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>ctx.fillStyle = c2;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">for</span><span class="s1">(</span><span class="s11">let</span><span class="s1"> i=</span><span class="s12">0</span><span class="s1">; i&lt;</span><span class="s12">500</span><span class="s1">; i++) ctx.fillRect(</span><span class="s13">Math</span><span class="s1">.random()*</span><span class="s12">64</span><span class="s1">, </span><span class="s13">Math</span><span class="s1">.random()*</span><span class="s12">64</span><span class="s1">, </span><span class="s12">2</span><span class="s1">, </span><span class="s12">2</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> tex = </span><span class="s11">new</span><span class="s1"> </span><span class="s13">THREE</span><span class="s1">.</span><span class="s13">CanvasTexture</span><span class="s1">(canv);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>tex.magFilter = </span><span class="s13">THREE</span><span class="s1">.</span><span class="s13">NearestFilter</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">return</span><span class="s1"> tex;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>};</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> texs = [</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>createTex(</span><span class="s9">'#4caf50'</span><span class="s1">, </span><span class="s9">'#388e3c'</span><span class="s1">), </span><span class="s14">// Grass</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>createTex(</span><span class="s9">'#9e9e9e'</span><span class="s1">, </span><span class="s9">'#757575'</span><span class="s1">), </span><span class="s14">// Stone</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>createTex(</span><span class="s9">'#dfe6e9'</span><span class="s1">, </span><span class="s9">'#b2bec3'</span><span class="s1">), </span><span class="s14">// Iron</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>createTex(</span><span class="s9">'#fab1a0'</span><span class="s1">, </span><span class="s9">'#e17055'</span><span class="s1">), </span><span class="s14">// Nickel</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>createTex(</span><span class="s9">'#2d3436'</span><span class="s1">, </span><span class="s9">'#000000'</span><span class="s1">)<span class="Apple-converted-space">  </span></span><span class="s14">// Bedrock</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>];</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>texs.forEach((t, i) =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById(</span><span class="s9">`slot</span><span class="s1">${i+</span><span class="s12">1</span><span class="s1">}</span><span class="s9">`</span><span class="s1">).style.backgroundImage = </span><span class="s9">`url(</span><span class="s1">${t.image.toDataURL()}</span><span class="s9">)`</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>});</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// --- Core ---</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> scene = </span><span class="s11">new</span><span class="s1"> </span><span class="s13">THREE</span><span class="s1">.</span><span class="s13">Scene</span><span class="s1">();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>scene.background = </span><span class="s11">new</span><span class="s1"> </span><span class="s13">THREE</span><span class="s1">.</span><span class="s13">Color</span><span class="s1">(</span><span class="s15">0x74b9ff</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>scene.fog = </span><span class="s11">new</span><span class="s1"> </span><span class="s13">THREE</span><span class="s1">.</span><span class="s13">FogExp2</span><span class="s1">(</span><span class="s15">0x74b9ff</span><span class="s1">, </span><span class="s12">0.01</span><span class="s1">);</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> camera = </span><span class="s11">new</span><span class="s1"> </span><span class="s13">THREE</span><span class="s1">.</span><span class="s13">PerspectiveCamera</span><span class="s1">(</span><span class="s12">75</span><span class="s1">, window.innerWidth/window.innerHeight, </span><span class="s12">0.1</span><span class="s1">, </span><span class="s12">1000</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> renderer = </span><span class="s11">new</span><span class="s1"> </span><span class="s13">THREE</span><span class="s1">.</span><span class="s13">WebGLRenderer</span><span class="s1">({ antialias: </span><span class="s11">false</span><span class="s1"> });</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>renderer.setSize(window.innerWidth, window.innerHeight);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>document.body.appendChild(renderer.domElement);</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>scene.add(</span><span class="s11">new</span><span class="s1"> </span><span class="s13">THREE</span><span class="s1">.</span><span class="s13">AmbientLight</span><span class="s1">(</span><span class="s15">0xffffff</span><span class="s1">, </span><span class="s12">0.8</span><span class="s1">));</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> sun = </span><span class="s11">new</span><span class="s1"> </span><span class="s13">THREE</span><span class="s1">.</span><span class="s13">DirectionalLight</span><span class="s1">(</span><span class="s15">0xffffff</span><span class="s1">, </span><span class="s12">0.4</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>sun.position.</span><span class="s11">set</span><span class="s1">(</span><span class="s12">50</span><span class="s1">, </span><span class="s12">100</span><span class="s1">, </span><span class="s12">50</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>scene.add(sun);</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// --- Voxels ---</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> voxels = </span><span class="s11">new</span><span class="s1"> </span><span class="s13">Map</span><span class="s1">();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> boxGeo = </span><span class="s11">new</span><span class="s1"> </span><span class="s13">THREE</span><span class="s1">.</span><span class="s13">BoxGeometry</span><span class="s1">(</span><span class="s12">1</span><span class="s1">, </span><span class="s12">1</span><span class="s1">, </span><span class="s12">1</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> mats = texs.map(t =&gt; </span><span class="s11">new</span><span class="s1"> </span><span class="s13">THREE</span><span class="s1">.</span><span class="s13">MeshLambertMaterial</span><span class="s1">({ map: t }));</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">function</span><span class="s1"> addVoxel(x, y, z, type) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> key = </span><span class="s9">`</span><span class="s1">${x}</span><span class="s9">,</span><span class="s1">${y}</span><span class="s9">,</span><span class="s1">${z}</span><span class="s9">`</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> (voxels.has(key)) </span><span class="s11">return</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> mesh = </span><span class="s11">new</span><span class="s1"> </span><span class="s13">THREE</span><span class="s1">.</span><span class="s13">Mesh</span><span class="s1">(boxGeo, mats[type-</span><span class="s12">1</span><span class="s1">]);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>mesh.position.</span><span class="s11">set</span><span class="s1">(x, y, z);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>mesh.userData.type = type;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>scene.add(mesh);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>voxels.</span><span class="s11">set</span><span class="s1">(key, mesh);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> size = </span><span class="s12">30</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">for</span><span class="s1">(</span><span class="s11">let</span><span class="s1"> x=-size/</span><span class="s12">2</span><span class="s1">; x&lt;size/</span><span class="s12">2</span><span class="s1">; x++) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">for</span><span class="s1">(</span><span class="s11">let</span><span class="s1"> z=-size/</span><span class="s12">2</span><span class="s1">; z&lt;size/</span><span class="s12">2</span><span class="s1">; z++) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>addVoxel(x, </span><span class="s12">0</span><span class="s1">, z, </span><span class="s12">1</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>addVoxel(x, -</span><span class="s12">1</span><span class="s1">, z, </span><span class="s12">2</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">for</span><span class="s1">(</span><span class="s11">let</span><span class="s1"> y=-</span><span class="s12">2</span><span class="s1">; y&gt;=-</span><span class="s12">4</span><span class="s1">; y--) addVoxel(x, y, z, </span><span class="s12">3</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">for</span><span class="s1">(</span><span class="s11">let</span><span class="s1"> y=-</span><span class="s12">5</span><span class="s1">; y&gt;=-</span><span class="s12">10</span><span class="s1">; y--) addVoxel(x, y, z, </span><span class="s12">4</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>addVoxel(x, -</span><span class="s12">11</span><span class="s1">, z, </span><span class="s12">5</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// --- Physics Engine ---</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> player = {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>pos: </span><span class="s11">new</span><span class="s1"> </span><span class="s13">THREE</span><span class="s1">.</span><span class="s13">Vector3</span><span class="s1">(</span><span class="s12">0</span><span class="s1">, </span><span class="s12">5</span><span class="s1">, </span><span class="s12">5</span><span class="s1">),</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>vel: </span><span class="s11">new</span><span class="s1"> </span><span class="s13">THREE</span><span class="s1">.</span><span class="s13">Vector3</span><span class="s1">(),</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>width: </span><span class="s12">0.6</span><span class="s1">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>height: </span><span class="s12">1.8</span><span class="s1">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>onGround: </span><span class="s11">false</span><span class="s1">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>speed: </span><span class="s12">30</span><span class="s1">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>friction: </span><span class="s12">10</span><span class="s1">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>};</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> keys = {};</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>document.addEventListener(</span><span class="s9">'keydown'</span><span class="s1">, e =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>keys[e.code] = </span><span class="s11">true</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1">(e.key &gt;= </span><span class="s9">'1'</span><span class="s1"> &amp;&amp; e.key &lt;= </span><span class="s9">'5'</span><span class="s1">) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>selected = parseInt(e.key);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>document.querySelectorAll(</span><span class="s9">'.slot'</span><span class="s1">).forEach((s,i)=&gt;s.classList.toggle(</span><span class="s9">'active'</span><span class="s1">, i===selected-</span><span class="s12">1</span><span class="s1">));</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>});</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>document.addEventListener(</span><span class="s9">'keyup'</span><span class="s1">, e =&gt; keys[e.code] = </span><span class="s11">false</span><span class="s1">);</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">let</span><span class="s1"> selected = </span><span class="s12">1</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> startBtn = document.getElementById(</span><span class="s9">'startBtn'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>startBtn.onclick = () =&gt; {</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Check if already locked to avoid redundant requests or errors</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> (document.pointerLockElement !== document.body) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>document.body.requestPointerLock();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>};</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>document.addEventListener(</span><span class="s9">'pointerlockchange'</span><span class="s1">, () =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById(</span><span class="s9">'instructions'</span><span class="s1">).style.display = document.pointerLockElement ? </span><span class="s9">'none'</span><span class="s1"> : </span><span class="s9">'flex'</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>});</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// Error handling for pointer lock</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>document.addEventListener(</span><span class="s9">'pointerlockerror'</span><span class="s1">, (e) =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>console.warn(</span><span class="s9">"Pointer lock error occurred:"</span><span class="s1">, e);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>});</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>document.addEventListener(</span><span class="s9">'mousemove'</span><span class="s1">, e =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1">(document.pointerLockElement) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>camera.rotation.y -= e.movementX * </span><span class="s12">0.002</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>camera.rotation.x -= e.movementY * </span><span class="s12">0.002</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>camera.rotation.x = </span><span class="s13">Math</span><span class="s1">.max(-</span><span class="s13">Math</span><span class="s1">.</span><span class="s13">PI</span><span class="s1">/</span><span class="s12">2</span><span class="s1">, </span><span class="s13">Math</span><span class="s1">.min(</span><span class="s13">Math</span><span class="s1">.</span><span class="s13">PI</span><span class="s1">/</span><span class="s12">2</span><span class="s1">, camera.rotation.x));</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>});</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> ray = </span><span class="s11">new</span><span class="s1"> </span><span class="s13">THREE</span><span class="s1">.</span><span class="s13">Raycaster</span><span class="s1">();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>window.addEventListener(</span><span class="s9">'mousedown'</span><span class="s1">, e =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1">(!document.pointerLockElement) </span><span class="s11">return</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>ray.setFromCamera({x:</span><span class="s12">0</span><span class="s1">, y:</span><span class="s12">0</span><span class="s1">}, camera);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> hits = ray.intersectObjects(</span><span class="s13">Array</span><span class="s1">.</span><span class="s11">from</span><span class="s1">(voxels.values()));</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1">(hits.length &gt; </span><span class="s12">0</span><span class="s1">) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> hit = hits[</span><span class="s12">0</span><span class="s1">];</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> p = hit.object.position;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1">(e.button === </span><span class="s12">0</span><span class="s1"> &amp;&amp; hit.object.userData.type !== </span><span class="s12">5</span><span class="s1">) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>scene.remove(hit.object);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>voxels.</span><span class="s11">delete</span><span class="s1">(</span><span class="s9">`</span><span class="s1">${p.x}</span><span class="s9">,</span><span class="s1">${p.y}</span><span class="s9">,</span><span class="s1">${p.z}</span><span class="s9">`</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>} </span><span class="s11">else</span><span class="s1"> </span><span class="s11">if</span><span class="s1">(e.button === </span><span class="s12">2</span><span class="s1">) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">const</span><span class="s1"> n = hit.face.normal;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>addVoxel(p.x+n.x, p.y+n.y, p.z+n.z, selected);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>});</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>window.oncontextmenu = e =&gt; e.preventDefault();</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">function</span><span class="s1"> checkCollision(pos) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> minX = </span><span class="s13">Math</span><span class="s1">.floor(pos.x - player.width/</span><span class="s12">2</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> maxX = </span><span class="s13">Math</span><span class="s1">.floor(pos.x + player.width/</span><span class="s12">2</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> minY = </span><span class="s13">Math</span><span class="s1">.floor(pos.y - player.height);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> maxY = </span><span class="s13">Math</span><span class="s1">.floor(pos.y);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> minZ = </span><span class="s13">Math</span><span class="s1">.floor(pos.z - player.width/</span><span class="s12">2</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> maxZ = </span><span class="s13">Math</span><span class="s1">.floor(pos.z + player.width/</span><span class="s12">2</span><span class="s1">);</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">for</span><span class="s1">(</span><span class="s11">let</span><span class="s1"> x=minX; x&lt;=maxX; x++) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">for</span><span class="s1">(</span><span class="s11">let</span><span class="s1"> y=minY; y&lt;=maxY; y++) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">for</span><span class="s1">(</span><span class="s11">let</span><span class="s1"> z=minZ; z&lt;=maxZ; z++) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">if</span><span class="s1">(voxels.has(</span><span class="s9">`</span><span class="s1">${x}</span><span class="s9">,</span><span class="s1">${y}</span><span class="s9">,</span><span class="s1">${z}</span><span class="s9">`</span><span class="s1">)) </span><span class="s11">return</span><span class="s1"> </span><span class="s11">true</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">return</span><span class="s1"> </span><span class="s11">false</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">let</span><span class="s1"> lastTime = performance.now();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">function</span><span class="s1"> update() {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> time = performance.now();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> dt = </span><span class="s13">Math</span><span class="s1">.min((time - lastTime) / </span><span class="s12">1000</span><span class="s1">, </span><span class="s12">0.1</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>lastTime = time;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1">(document.pointerLockElement) {</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s1">// Directional Input</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> input = </span><span class="s11">new</span><span class="s1"> </span><span class="s13">THREE</span><span class="s1">.</span><span class="s13">Vector3</span><span class="s1">();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1">(keys[</span><span class="s9">'KeyW'</span><span class="s1">]) input.z -= </span><span class="s12">1</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1">(keys[</span><span class="s9">'KeyS'</span><span class="s1">]) input.z += </span><span class="s12">1</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1">(keys[</span><span class="s9">'KeyA'</span><span class="s1">]) input.x -= </span><span class="s12">1</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1">(keys[</span><span class="s9">'KeyD'</span><span class="s1">]) input.x += </span><span class="s12">1</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>input.applyQuaternion(</span><span class="s11">new</span><span class="s1"> </span><span class="s13">THREE</span><span class="s1">.</span><span class="s13">Quaternion</span><span class="s1">().setFromAxisAngle(</span><span class="s11">new</span><span class="s1"> </span><span class="s13">THREE</span><span class="s1">.</span><span class="s13">Vector3</span><span class="s1">(</span><span class="s12">0</span><span class="s1">,</span><span class="s12">1</span><span class="s1">,</span><span class="s12">0</span><span class="s1">), camera.rotation.y));</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>input.normalize();</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s1">// Horizontal movement</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> accel = player.onGround ? player.speed : player.speed * </span><span class="s12">0.3</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>player.vel.x += input.x * accel * dt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>player.vel.z += input.z * accel * dt;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s14">// Friction</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> drag = player.onGround ? player.friction : </span><span class="s12">1</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>player.vel.x -= player.vel.x * drag * dt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>player.vel.z -= player.vel.z * drag * dt;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s14">// Gravity</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>player.vel.y -= </span><span class="s12">25</span><span class="s1"> * dt;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s14">// Jump</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1">(keys[</span><span class="s9">'Space'</span><span class="s1">] &amp;&amp; player.onGround) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>player.vel.y = </span><span class="s12">8</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>player.onGround = </span><span class="s11">false</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s1">// Apply Movement with Collisions</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> nextPos = player.pos.clone();</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">                </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s14">// Y-Axis</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>nextPos.y += player.vel.y * dt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1">(checkCollision(nextPos)) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">if</span><span class="s1">(player.vel.y &lt; </span><span class="s12">0</span><span class="s1">) player.onGround = </span><span class="s11">true</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>player.vel.y = </span><span class="s12">0</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>nextPos.y = player.pos.y;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>} </span><span class="s11">else</span><span class="s1"> {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>player.onGround = </span><span class="s11">false</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s14">// X-Axis</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>nextPos.x += player.vel.x * dt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1">(checkCollision(nextPos)) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s14">// Try auto-step</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">const</span><span class="s1"> stepPos = nextPos.clone();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>stepPos.y += </span><span class="s12">1.1</span><span class="s1">; </span><span class="s14">// Check 1 block up</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">if</span><span class="s1">(!checkCollision(stepPos)) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>nextPos.y += </span><span class="s12">1.1</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>} </span><span class="s11">else</span><span class="s1"> {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>player.vel.x = </span><span class="s12">0</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>nextPos.x = player.pos.x;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s14">// Z-Axis</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>nextPos.z += player.vel.z * dt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1">(checkCollision(nextPos)) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">const</span><span class="s1"> stepPos = nextPos.clone();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>stepPos.y += </span><span class="s12">1.1</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">if</span><span class="s1">(!checkCollision(stepPos)) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>nextPos.y += </span><span class="s12">1.1</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>} </span><span class="s11">else</span><span class="s1"> {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>player.vel.z = </span><span class="s12">0</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>nextPos.z = player.pos.z;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>player.pos.copy(nextPos);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>camera.position.copy(player.pos).y -= </span><span class="s12">0.2</span><span class="s1">; </span><span class="s14">// Eye level</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1">(player.pos.y &lt; -</span><span class="s12">30</span><span class="s1">) player.pos.</span><span class="s11">set</span><span class="s1">(</span><span class="s12">0</span><span class="s1">, </span><span class="s12">10</span><span class="s1">, </span><span class="s12">0</span><span class="s1">); </span><span class="s14">// Reset fall</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>renderer.render(scene, camera);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>requestAnimationFrame(update);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>window.addEventListener(</span><span class="s9">'resize'</span><span class="s1">, () =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>camera.aspect = window.innerWidth / window.innerHeight;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>camera.updateProjectionMatrix();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>renderer.setSize(window.innerWidth, window.innerHeight);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>});</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>update();</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s1">script</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s3">&lt;/</span><span class="s1">body</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s3">&lt;/</span><span class="s1">html</span><span class="s3">&gt;</span></p>
</body>
</html>
